<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head th:replace="common/layout :: commonCss(~{::title},~{})">
    <title th:text="${blogTitle} + ' - category' "></title>
</head>
<body>
<div class="container main">
    <div th:replace="common/layout :: commonTop"></div>
    <div id="Wrapper" class="bg-gary">
        <div class="content py-3">
            <div class="container">
                <div class="row">
                    <div class="col-lg-12 col-12 p-3 bg-white">
                        <h2 th:inline="text">Category: [[${categoryById.name}]]</h2>
                        <h6 class="text-muted" th:text="${blogSubtitle}"></h6>
                        <div class="float-right text-muted" th:text="'-- ' + ${blogAuthor}"></div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-lg-9 col-12 p-3 bg-white mt-3">
                        <div th:if="${page.records.isEmpty()}">
                            <h4>There are no articles in all category!</h4>
                            <p class="text-muted my-2">Please login and write...</p>
                        </div>
                        <div th:each="post:${page.records}">
                            <h4><a th:href="@{'/post/'+${post.id}}" th:text="${post.title}"></a></h4>
                            <p class="text-muted my-2" th:inline="text">[[${post.subtitle}]]
                                <small>...<a th:href="@{'/post/'+${post.id}}">Read More</a></small>
                            </p>
                            <div>
                                <small>
                                    <span class="oi oi-eye" th:text="${post.pageView}"></span>&nbsp;&nbsp;
                                    <span class="oi oi-book"></span>
                                    <a th:href="@{'/category/'+${post.categoryId}}" th:text="${categoryById.name}"></a>
                                </small>
                                <small class="float-right">
                                    <span class="oi oi-clock"></span>
                                    <span class="moment" th:attr="data-timestamp=${post.timestamp}"
                                          data-format="format('LL')"></span>
                                </small>
                            </div>
                            <hr>
                        </div>
                        <div class="page" th:if="${page.hasPrevious() || page.hasNext()}">
                            <nav aria-label="Page navigation">
                                <ul class="pagination">
                                    <li th:class="${page.hasPrevious()}?'page-item':'page-item disabled'">
                                        <a class="page-link"
                                           th:href="@{'/category/'+${categoryById.id}+'?page='+${page.current - 1}}">
                                            <span aria-hidden="true">←</span> Prev
                                        </a>
                                    </li>
                                    <li th:class="${page.hasNext()}?'page-item':'page-item disabled'">
                                        <a class="page-link"
                                           th:href="@{'/category/'+${categoryById.id}+'?page='+${page.current + 1}}">
                                            Next <span aria-hidden="true">→</span>
                                        </a>
                                    </li>
                                </ul>
                            </nav>
                        </div>
                    </div>
                    <div th:replace="common/layout :: commonSidebar"></div>
                </div>
            </div>
        </div>
        <div th:replace="common/layout :: commonBottom"></div>
        <div th:replace="common/layout :: commonJs(~{})"></div>
    </div>
</div>
</body>
</html>